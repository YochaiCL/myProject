{"ast":null,"code":"import _classCallCheck from\"C:/Users/yocha/OneDrive/Desktop/gitHubProjects/finalProject/Final-Project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/yocha/OneDrive/Desktop/gitHubProjects/finalProject/Final-Project/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/yocha/OneDrive/Desktop/gitHubProjects/finalProject/Final-Project/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/yocha/OneDrive/Desktop/gitHubProjects/finalProject/Final-Project/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import style from'./login.module.css';import Button from'../../pageSettings/button/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:'',password:''};return _this;}_createClass(Login,[{key:\"handleSubmit\",value:/**\r\n   * Description: This function get input from the user and by checking in data base (not) connecting to client page\r\n   * @param {*} e - User data\r\n   */function handleSubmit(e){e.preventDefault();var _this$state=this.state,email=_this$state.email,password=_this$state.password;console.log(email,password);fetch('http://localhost:5000/login-user',{method:'POST',crossDomain:true,headers:{'Content-Type':'application/json',Accept:'application/json','Accept-Control-Allow-Origin':'*'},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){console.log(data,'userRegister');if(data.status==='ok'){alert('login successful');// storage the token in local storage\nwindow.localStorage.setItem('token',data.data);// make us still sign in when we open new tab with the project url\n// If we are still log in the web still be connected\nwindow.localStorage.setItem('loggedIn',true);// console.log(data.userType);\nif(data.userType==='Admin'){window.location.href='/adminHome';}else if(data.userType==='Premium'){window.location.href='/premiumHome';}else if(data.userType==='User'){window.location.href='/userHome';}}else{alert('Something wrong, please check the details');}});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"form\",{className:style.form,onSubmit:this.handleSubmit.bind(this),children:[/*#__PURE__*/_jsx(\"h3\",{className:style.h3,children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter password\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",text:\"submit\",className:style.submit})}),/*#__PURE__*/_jsx(\"p\",{className:style.size,children:/*#__PURE__*/_jsx(Link,{to:\"reset\",children:\" Forgot password?\"})}),/*#__PURE__*/_jsx(\"p\",{className:style.size,children:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"Sign Up\"})})]});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"names":["React","Component","Link","style","Button","Login","state","email","password","e","preventDefault","console","log","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","then","res","json","data","status","alert","window","localStorage","setItem","userType","location","href","form","handleSubmit","bind","h3","setState","target","value","submit","size"],"sources":["C:/Users/yocha/OneDrive/Desktop/gitHubProjects/finalProject/Final-Project/client/src/components/connection/login/Login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport style from './login.module.css';\r\nimport Button from '../../pageSettings/button/Button';\r\n\r\nexport default class Login extends Component {\r\n  /**\r\n   * email - User input email\r\n   * Password - User input password\r\n   */\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n  };\r\n\r\n  /**\r\n   * Description: This function get input from the user and by checking in data base (not) connecting to client page\r\n   * @param {*} e - User data\r\n   */\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n    console.log(email, password);\r\n    fetch('http://localhost:5000/login-user', {\r\n      method: 'POST',\r\n      crossDomain: true,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        'Accept-Control-Allow-Origin': '*',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log(data, 'userRegister');\r\n        if (data.status === 'ok') {\r\n          alert('login successful');\r\n          // storage the token in local storage\r\n          window.localStorage.setItem('token', data.data);\r\n\r\n          // make us still sign in when we open new tab with the project url\r\n          // If we are still log in the web still be connected\r\n          window.localStorage.setItem('loggedIn', true);\r\n\r\n          // console.log(data.userType);\r\n          if (data.userType === 'Admin') {\r\n            window.location.href = '/adminHome';\r\n          } else if (data.userType === 'Premium') {\r\n            window.location.href = '/premiumHome';\r\n          } else if (data.userType === 'User') {\r\n            window.location.href = '/userHome';\r\n          }\r\n        } else {\r\n          alert('Something wrong, please check the details');\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <form className={style.form} onSubmit={this.handleSubmit.bind(this)}>\r\n        <h3 className={style.h3}>Sign In</h3>\r\n\r\n        <div>\r\n          <label>Email address</label>\r\n          <input\r\n            type='email'\r\n            placeholder='Enter email'\r\n            onChange={e => this.setState({ email: e.target.value })}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label>Password</label>\r\n          <input\r\n            type='password'\r\n            placeholder='Enter password'\r\n            onChange={e => this.setState({ password: e.target.value })}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Button type='submit' text='submit' className={style.submit} />\r\n        </div>\r\n        <p className={style.size}>\r\n          <Link to='reset'> Forgot password?</Link>\r\n        </p>\r\n        <p className={style.size}>\r\n          <Link to='/sign-up'>Sign Up</Link>\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}